<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>CCU Email Log Tool</title>
    <link rel="stylesheet" href="./css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css"
        integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/daterangepicker.css">
    <link rel="stylesheet" href="./css/style.css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
</head>

<body>
    <script src="./js/jquery-3.4.1.min.js"></script>
    <script src="./js/popper.min.js"></script>
    <script src="./js/bootstrap.min.js"></script>
    <script src="./js/moment.min.js"></script>
    <script src="./js/daterangepicker.min.js"></script>

    <div class="container">

        <div class="row">
            <div class="col-12">
                <div class="jumbotron">
                    <h1 class="display-4">CCU Email Logger</h1>
                </div>
            </div>

        </div>
        <!-- read more : https://blog.webjeda.com/google-form-customize/ -->
        <form class="needs-validation" novalidate="" id="ccuEntryForm"
            action="https://docs.google.com/forms/d/e/1FAIpQLSdbUV4V9CwbiLaCK0pfLYjMM3uETwjw0LOh4TT0qLhpcZXMfg/formResponse"
            target="hidden_iframe" onsubmit="submitted=true;">

            <div class="row form-group-custom">

                <div class="col-2">
                    <label for="">
                        <h6>Source Of Contact</h6>
                    </label>
                    <select class="custom-select" name="entry.112921490" id="sourceOfContactInput" required>
                        <option value=""></option>
                        <option value="Walk Ins">Walk Ins</option>
                        <option value="Calls">Calls</option>
                        <option value="BDU">BDU</option>
                        <option value="Regular Emails">Regular Emails</option>
                        <option value="GOPs">GOPs</option>
                    </select>
                </div>

                <div class="col-10">
                    <label for="">
                        <h6>Subject</h6>
                    </label>
                    <input type="text" class="form-control" value="N/A" name="entry.446823981" required="">
                </div>

            </div>

            <div class="row form-group-custom">
                <div class="col-sm">
                    <i class="fas fa-lock float-right" style="margin:5px; cursor: pointer;" id="lockAgentToggle"
                        title="Lock your name on this page. Click again to clear"></i>
                    <label for="">
                        <h6>Entered By</h6>
                    </label>
                    <select class="custom-select" name="entry.479466957" id="agentDropDown" required>
                        <option value=""></option>
                        <option value="Abdulla Bakhit Salem">Abdulla Bakhit Salem</option>
                        <option value="Dr. Shaima Abubacker">Dr. Shaima Abubacker</option>
                        <option value="Dr. Sher Bacha">Dr. Sher Bacha</option>
                        <option value="Dr. Wafa Bakhouche">Dr. Wafa Bakhouche</option>
                        <option value="Earldwin James Dauz Brackett">Earldwin James Dauz Brackett</option>
                        <option value="Eloy Manguba">Eloy Manguba</option>
                        <option value="Emery O. Vite">Emery O. Vite</option>
                        <option value="Farah Farhoud">Farah Farhoud</option>
                        <option value="Hannah Ursula Mae Palces">Hannah Ursula Mae Palces</option>
                        <option value="Hazaa Khalfan Ahmed Al Shamsi">Hazaa Khalfan Ahmed Al Shamsi</option>
                        <option value="Irene Cuyugan">Irene Cuyugan</option>
                        <option value="Jerome A. Pascual">Jerome A. Pascual</option>
                        <option value="Jobe Cruz">Jobe Cruz</option>
                        <option value="John Micheal Cosico">John Micheal Cosico</option>
                        <option value="Julius Ureta">Julius Ureta</option>
                        <option value="Mayan Hassan Mohammed Hassan">Mayan Hassan Mohammed Hassan</option>
                        <option value="Nurse Afrah Youssef Mohamed">Nurse Afrah Youssef Mohamed</option>
                        <option value="Rahiel Belai Haile">Rahiel Belai Haile</option>
                        <option value="Romar Agbuya">Romar Agbuya</option>
                        <option value="Said Mohammed Said Al Saadi">Said Mohammed Said Al Saadi</option>
                        <option value="Saviona  Radja">Saviona Radja</option>
                        <option value="Shamma Elias AlEbri">Shamma Elias AlEbri</option>
                    </select>
                </div>
                <div class="col-8">
                    <label for="">
                        <h6>Payer Name</h6>
                    </label>
                    <select class="custom-select" name="entry.720206906" id="payerNameSelection" required>
                        <option value=""></option>
                        <option value="ABU DHABI NATIONAL INSURANCE CO. ADNIC">ABU DHABI NATIONAL INSURANCE CO. ADNIC
                        </option>
                        <option value="Abu Dhabi National Takaful">Abu Dhabi National Takaful</option>
                        <option value="Adamjee Insurance Co. Ltd.">Adamjee Insurance Co. Ltd.</option>
                        <option value="Al Buhairah National Insurance Co.">Al Buhairah National Insurance Co.</option>
                        <option value="Al Fujairah National Insurance Co.">Al Fujairah National Insurance Co.</option>
                        <option value="Al Hilal Takaful Co.">Al Hilal Takaful Co.</option>
                        <option value="Al Ittihad Al Watani ">Al Ittihad Al Watani </option>
                        <option value="AL RAWABI DAIRY GROUP (under Takaful Emarat)">AL RAWABI DAIRY GROUP (under
                            Takaful Emarat)</option>
                        <option value="Al Sagr National Ins. Co.">Al Sagr National Ins. Co.</option>
                        <option value="Alliance Insurance Company">Alliance Insurance Company</option>
                        <option value="Aman -Dubai Islamic Insurance & Re.">Aman -Dubai Islamic Insurance & Re.</option>
                        <option value="Amana Group (Under Takaful Emarat)">Amana Group (Under Takaful Emarat)</option>
                        <option value="American home Assurance (AIG)">American home Assurance (AIG)</option>
                        <option value="Arabia Insurance Co.">Arabia Insurance Co.</option>
                        <option value="Arabian Scandinavian Insurance Co. (ASCANA)">Arabian Scandinavian Insurance Co.
                            (ASCANA)</option>
                        <option value="AWC">AWC</option>
                        <option value="AXA Green Crescent">AXA Green Crescent</option>
                        <option value="Clover">Clover</option>
                        <option value="DP World">DP World</option>
                        <option value="DryDocks (SFS)">DryDocks (SFS)</option>
                        <option value="Dubai Islamic Economy Devt Centre (Diedc)">Dubai Islamic Economy Devt Centre
                            (Diedc)</option>
                        <option value="Dubai National Ins. & Reins. Co.">Dubai National Ins. & Reins. Co.</option>
                        <option value="Freedom Health Insurance">Freedom Health Insurance</option>
                        <option value="Future Museum (Dubai Future Foundation)">Future Museum (Dubai Future Foundation)
                        </option>
                        <option value="Gargash">Gargash</option>
                        <option value="Gateway International Assurance">Gateway International Assurance</option>
                        <option value="German Care Intl ">German Care Intl </option>
                        <option value="Global Benefit Group - GBG">Global Benefit Group - GBG</option>
                        <option value="Hauteville - DCI/DIC">Hauteville - DCI/DIC</option>
                        <option value="Iran Insurance">Iran Insurance</option>
                        <option value="Jumeirah International LLC">Jumeirah International LLC</option>
                        <option value="Majid Al Futtaim (Under Takaful Emarat)">Majid Al Futtaim (Under Takaful Emarat)
                        </option>
                        <option value="Medgulf-Allianz Takaful">Medgulf-Allianz Takaful</option>
                        <option value="Medgulf-Bahrain">Medgulf-Bahrain</option>
                        <option value="Medgulf-KSA">Medgulf-KSA</option>
                        <option value="Medgulf-UAE">Medgulf-UAE</option>
                        <option value="Methaq Takaful Insurance Company">Methaq Takaful Insurance Company</option>
                        <option value="Metlife">Metlife</option>
                        <option value="Ministry Of Cabinet Affairs (Moca)">Ministry Of Cabinet Affairs (Moca)</option>
                        <option value="Muscat Life">Muscat Life</option>
                        <option value="National General Insurance">National General Insurance</option>
                        <option value="National Life & General Insurance - AUH">National Life & General Insurance -
                            AUH
                        </option>
                        <option value="National Life & General Insurance - Dubai">National Life & General Insurance -
                            Dubai</option>
                        <option value="National Takaful Company PSC, Watania">National Takaful Company PSC, Watania
                        </option>
                        <option value="Noor Takaful">Noor Takaful</option>
                        <option value="Oman Ins UAE ">Oman Ins UAE </option>
                        <option value="Oman Qatar Insurance Company">Oman Qatar Insurance Company</option>
                        <option value="Oman United Insurance">Oman United Insurance</option>
                        <option value="Orient Insurance PJSC">Orient Insurance PJSC</option>
                        <option value="Prime Minister's Office">Prime Minister's Office</option>
                        <option value="Public Diplomacy Office (Pdo)">Public Diplomacy Office (Pdo)</option>
                        <option value="Qatar General Insurance & Re. (UAE)">Qatar General Insurance & Re. (UAE)</option>
                        <option value="RTA">RTA</option>
                        <option value="SALAMA - Islamic Arab Ins. Co.">SALAMA - Islamic Arab Ins. Co.</option>
                        <option value="SCB ">SCB </option>
                        <option value="Smart Dubai Office">Smart Dubai Office</option>
                        <option value="Solidarity Takaful">Solidarity Takaful</option>
                        <option value="Takaful Emarat">Takaful Emarat</option>
                        <option value="Takaful International Co.">Takaful International Co.</option>
                        <option value="Takaful Oman ">Takaful Oman </option>
                        <option value="The Executive Office (Teo)">The Executive Office (Teo)</option>
                        <option value="The New Indian Assurance ">The New Indian Assurance </option>
                        <option value="Tokyo Marine">Tokyo Marine</option>
                        <option value="Union Insurance ">Union Insurance </option>
                        <option value="United Insurance Co">United Insurance Co</option>
                        <option value="William Russell">William Russell</option>
                    </select>
                </div>
            </div>

            <div class="row form-group-custom">

                <!-- shows only when Orient is selected as Payer Name -->
                <div class="col-sm" style="display:none;" id="orientOnlySelection">
                    <label>
                        <h6 style="color: #007bff">Group Name (Orient)</h6>
                    </label>
                    <br>
                    <select class="custom-select" name="entry.2126530801" id="orientOnlyInput">
                        <option value=""></option>
                        <option value="DU">DU</option>
                        <option value="ADCB">ADCB</option>
                        <option value="ASSD">ASSD</option>
                        <option value="Dubai South">Dubai South</option>
                        <option value="Dubai Aviation">Dubai Aviation</option>
                        <option value="DEPA">DEPA</option>
                        <option value="National Ambulance">National Ambulance</option>
                        <option value="ADEK">ADEK</option>
                        <option value="Al Futtaim Willis">Al Futtaim Willis</option>
                        <option value="DIFC">DIFC</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <!-- shows only when Takaful Emarat is selected as Payer Name -->
                <div class="col-sm" style="display:none;" id="takafulOnlySelection">
                    <label>
                        <h6 style="color: #007bff">Group Name (Takaful Emarat)</h6>
                    </label>
                    <br>
                    <select class="custom-select" name="entry.2126530801" id="takafulOnlyInput">
                        <option value=""></option>
                        <option value="Al Tayer Group">Al Tayer Group</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <!-- shows only when Medgulf UAE is selected as Payer Name -->
                <div class="col-sm" style="display:none;" id="medGulfOnlySelection">
                    <label>
                        <h6 style="color: #007bff">Group Name (Medgulf UAE)</h6>
                    </label>
                    <br>
                    <select class="custom-select" name="entry.2126530801" id="medGulfOnlyInput">
                        <option value=""></option>
                        <option value="Mott Macdonald">Mott Macdonald</option>
                        <option value="Veolia">Veolia</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="col-sm">
                    <label>
                        <h6>Card Number/ E-ID</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" name="entry.187295482" required="">
                </div>
                <div class="col-sm">
                    <label>
                        <h6>Received Date & Time</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" placeholder="Click Here Select" name="entry.2001175821"
                        id="receivedDateInput" readonly required />
                </div>

                <div class="col-sm" id="contactTypeDiv">
                    <label>
                        <h6>Type Of Contact</h6>
                    </label>
                    <br>
                    <select class="custom-select" name="entry.619045907" id="contactType" required>
                        <option value=""></option>
                        <option value="Complaint">Complaint</option>
                        <option value="Inquiry">Inquiry</option>
                    </select>
                </div>

                <!-- / -->
                <div class="col-sm" id="reasonOfContactDiv">
                    <label>
                        <h6>Reason Of Contact</h6>
                    </label>
                    <select class="custom-select" name="entry.295681517" required id="reasonOfContact">
                        <option value=""></option>

                    </select>
                </div>
            </div>

            <!-- style="display:none" -->
            <div class="row form-group-custom" id="gop-row">

                <div class="col-3">
                    <label for="">
                        <h6>Type Of GOP</h6>
                    </label>
                    <select class="custom-select" name="entry.553393158" id="typeOfGOPInput">
                        <option value=""></option>
                        <option value="OP less than 20K">OP less than 20K</option>
                        <option value="OP more than 20K">OP more than 20K</option>
                        <option value="IP">IP</option>
                    </select>
                </div>

                <div class="col-2" id="payerNotifiedSection" style="display: none;">
                    <label for="">
                        <h6>Payer Notified</h6>
                    </label>
                    <select class="custom-select" name="entry.1945185816" id="payerNotifiedInput">
                        <option value=""></option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>

                <div class="col-sm">
                    <label for="">
                        <h6>ER/ Elective</h6>
                    </label>
                    <input type="text" class="form-control" name="entry.227060281" id="electiveInput">
                </div>

                <div class="col-sm" id="currentStatusSection" style="display: none">
                    <label for="">
                        <h6>Current Status</h6>
                    </label>
                    <select class="custom-select" name="entry.904979440" id="currentStatusInput">
                        <option value=""></option>
                        <option value="GOP Issued">GOP Issued</option>
                        <option value="Pending">Pending</option>
                        <option value="No">No</option>
                    </select>
                </div>


            </div>

            <div class="row form-group-custom endorsement-group" id="row-4">

                <div class="col-sm">
                    <label for="">
                        <h6>Endorsed To</h6>
                    </label>
                    <select class="custom-select" name="entry.1682970517" id="endorsedToInput">
                        <option value=""></option>
                        <option value="OP Precert">OP Precert</option>
                        <option value="Care Center">Care Center</option>
                        <option value="IP Precert">IP Precert</option>
                        <option value="CMUR">CMUR</option>
                        <option value="PMO">PMO</option>
                        <option value="CMD">CMD</option>
                        <option value="BDU">BDU</option>
                        <option value="PMP">PMP</option>
                        <option value="Provider">Provider</option>
                        <option value="Other">Other</option>
                    </select>
                </div>

                <div class="col-sm" id="endorsedToOtherSelection" style="display:none; color: #007bff;">
                    <label>
                        <h6>Endorsed To - Other</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" name="entry.1064304316" id="endorsedToOtherInput">
                </div>

                <div class="col-sm">
                    <label>
                        <h6>Endorsed Time</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" name="entry.1713142042" id="endorsedDateInput" readonly />
                </div>

                <div class="col-sm">
                    <label>
                        <h6>Follow Up Dates</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" name="entry.1663804159" id="followUpDatesInput">
                </div>

                <div class="col-sm">
                    <label>
                        <h6 style="font-size: .80rem;">Received Date From Assigned Department</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" name="entry.505793025" id="receivedOtherDeptdDateInput"
                        readonly />
                </div>
            </div>

            <div class="row form-group-custom" id="row-5">
                <div class="col-sm">
                    <label>
                        <h6>Closed Time</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" name="entry.1496977968" id="closedDateInput"
                        placeholder="Click Here Select" readonly required />
                </div>

                <div class="col-sm">
                    <label>
                        <h6>Validity</h6>
                    </label>
                    <br>
                    <select class="custom-select" name="entry.1314423683" id="validitySelection" required>
                        <option value=""></option>
                        <option value="Valid">Valid</option>
                        <option value="Invalid">Invalid</option>
                    </select>
                </div>

                <div class="col-sm" id="validOnlySelection" style="display:none;">
                    <label>
                        <h6>ITS Number</h6>
                    </label>
                    <br>
                    <input type="text" class="form-control" name="entry.1284483426" id="itsNumberInput">
                </div>

            </div>

            <div class="row form-group-custom">
                <div class="col-sm">
                    <label>
                        <h6>Action Taken</h6>
                    </label>
                    <br>
                    <textarea class="form-control" rows="4" name="entry.1986532165" required></textarea>
                </div>
            </div>

            <div class="row">
                <div class="col-sm">
                    <button type="submit" class="btn btn-primary float-right btn-lg" id="formSubmitBtn">Submit</button>
                </div>
            </div>

        </form>
        <p>For any issues or feedback, please mail <a
                href="mailto:Gavin.DeSilva@nextcarehealth.com">Gavin.DeSilva@nextcarehealth.com</a>
            or contact your team lead.</p>
    </div>

    <script>

        // initialized the date picker for date fields
        initDates();
        // run the agent toggle function
        lockAgentToggle()
        // init the Endorsed To logic
        endorsedToFunctionality();
        // set defaults
        setDefaults();

        let payerNameSelection = document.getElementById('payerNameSelection');

        // If Orient -> 
        let orientOnlySelection = document.getElementById('orientOnlySelection');
        let orientOnlyInput = document.getElementById('orientOnlyInput');

        // If Takaful -> 
        let takafulOnlySelection = document.getElementById('takafulOnlySelection');
        let takafulOnlyInput = document.getElementById('takafulOnlyInput');

        payerNameSelection.addEventListener('change', function () {

            // If Orient -> 
            if (payerNameSelection.value == "Orient Insurance PJSC") {
                orientOnlySelection.style.display = 'block';
                orientOnlyInput.setAttribute("required", "");
                orientOnlyInput.required = true;
            } else {
                orientOnlySelection.style.display = 'none';
                orientOnlySelection.removeAttribute("required");
                orientOnlyInput.required = false;
            }

            // If Takaful -> 
            if (payerNameSelection.value == "Takaful Emarat") {
                takafulOnlySelection.style.display = 'block';
                takafulOnlyInput.setAttribute("required", "");
                takafulOnlyInput.required = true;
            } else {
                takafulOnlySelection.style.display = 'none';
                takafulOnlySelection.removeAttribute("required");
                takafulOnlyInput.required = false;
            }

            // If MedGulf -> 
            if (payerNameSelection.value == "Medgulf-UAE") {
                medGulfOnlySelection.style.display = 'block';
                medGulfOnlyInput.setAttribute("required", "");
                medGulfOnlyInput.required = true;
            } else {
                medGulfOnlySelection.style.display = 'none';
                medGulfOnlySelection.removeAttribute("required");
                medGulfOnlyInput.required = false;
            }
        });

        function endorsedToFunctionality() {
            // Endorsed to other
            let endorsedToOtherSelection = document.getElementById('endorsedToOtherSelection');
            let endorsedToInput = document.getElementById('endorsedToInput');
            let endorsedToOtherInput = document.getElementById('endorsedToOtherInput');

            let endorsedDateInput = document.getElementById('endorsedDateInput');
            let followUpDatesInput = document.getElementById('followUpDatesInput');
            let receivedOtherDeptdDateInput = document.getElementById('receivedOtherDeptdDateInput');

            // if Endorsed To dropdown is selected
            endorsedToInput.addEventListener('change', function () {
                // if the drop down selection is Other
                if (endorsedToInput.value == "Other") {
                    // show the hidden Endorsed To Other txt box
                    endorsedToOtherSelection.style.display = 'block';
                    // Set it as required
                    endorsedToOtherInput.setAttribute("required", "");
                    endorsedToOtherInput.required = true;
                } else {
                    // if not Other
                    // hide the hidden Endorsed To Other txt box if it's showing
                    endorsedToOtherSelection.style.display = 'none';
                    // Set it as not required
                    endorsedToOtherSelection.removeAttribute("required");
                    endorsedToOtherInput.required = false;
                }

                // If Endorsed To field is not empty, the Endorsed Time, Follow Up Dates & Received Date From Assigned Department fields become mandatory. 
                // If Endorsed To field is empty, the Endorsed Time, Follow Up Dates & Received Date From Assigned Department fields can be left empty.

                // if Endorsed To Dropdown is not empty
                if (endorsedToInput.value !== "") {
                    // Enable the Endorsed On Date and set as required
                    endorsedDateInput.setAttribute("required", "");
                    endorsedDateInput.required = true;
                    endorsedDateInput.disabled = false;
                    // Enable the Follow up Dates Txt Box and set as required
                    followUpDatesInput.setAttribute("required", "");
                    followUpDatesInput.required = true;
                    followUpDatesInput.disabled = false;
                    // Enable the Received By Other Dept Date Field and set as required
                    receivedOtherDeptdDateInput.setAttribute("required", "");
                    receivedOtherDeptdDateInput.required = true;
                    receivedOtherDeptdDateInput.disabled = false;
                } else {
                    // if not empty
                    // Disable the Endorsed On Date and set as not required
                    endorsedDateInput.removeAttribute("required");
                    endorsedDateInput.required = false;
                    // Clear the value in the txt box, if any
                    endorsedDateInput.value = "";
                    endorsedDateInput.disabled = true;
                    // Disable the Follow up Dates Txt Box and set as not required
                    followUpDatesInput.removeAttribute("required");
                    followUpDatesInput.required = false;
                    followUpDatesInput.disabled = true;
                    // Clear the value in the txt box, if any
                    followUpDatesInput.value = "";
                    // Disable the Received By Other Dept Date Field and set as not required
                    receivedOtherDeptdDateInput.removeAttribute("required");
                    receivedOtherDeptdDateInput.required = false;
                    receivedOtherDeptdDateInput.disabled = true;
                    // Clear the value in the txt box, if any
                    receivedOtherDeptdDateInput.value = "";
                }
            });
        }

        // Based on the Type Of Contact, the Reason of Contact fields should be filtered to show Complaints or Inquiries only selections
        // If Inquiry -> Validity will be disabled

        let contactType = document.getElementById('contactType');
        let reasonOfContact = document.getElementById('reasonOfContact');
        let complaintHTMLString = '<option value=""></option><option value="IP Follow up">IP Follow up</option><option value="IP Late Approval">IP Late Approval</option><option value="Late Approval / Follow up">Late Approval / Follow up</option><option value="OP Follow up">OP Follow up</option><option value="OP Late Approval">OP Late Approval</option><option value="Quality of Service NEXtCARE">Quality of Service NEXtCARE</option><option value="Quality of Service Provider">Quality of Service Provider</option><option value="REGULATORY COMPLAINT (DHA/HAAD)">REGULATORY COMPLAINT (DHA/HAAD)</option><option value="Reimbursement Related Complaint">Reimbursement Related Complaint</option><option value="Appeal of Claim Denial">Appeal of Claim Denial</option><option value="Card Number Not Active">Card Number Not Active</option><option value="Card Number Not Exist">Card Number Not Exist</option><option value="Card Related Complaints">Card Related Complaints</option><option value="Late Payment">Late Payment</option><option value="Other Complaints">Other Complaints</option><option value="Policy Related Issues">Policy Related Issues</option><option value="Provider Rejected the Patient">Provider Rejected the Patient</option><option value="Privacy – Revoke consent / Object d">Privacy – Revoke consent / Object d</option>';
        let inquiryHTMLString = '<option value=""></option><option value="Approval Refax / Resend">Approval Refax / Resend</option><option value="Claims-Reimbursement">Claims-Reimbursement</option><option value="Green Crecent Product & Services">Green Crecent Product & Services</option><option value="REIMBURSEMENT CLAIM INTIMATION">REIMBURSEMENT CLAIM INTIMATION</option><option value="Waseel Related Inquiries">Waseel Related Inquiries</option><option value="Coverage">Coverage</option><option value="Network">Network</option><option value="NEXtCARE Mobile App Related Issues">NEXtCARE Mobile App Related Issues</option><option value="Approval Cancellation">Approval Cancellation</option><option value="Approval Extension">Approval Extension</option><option value="Approvals – Pending Requirements">Approvals – Pending Requirements</option><option value="Claim Denial Reason">Claim Denial Reason</option><option value="Network Provider Inclusion Request">Network Provider Inclusion Request</option><option value="Other Inquiry">Other Inquiry</option><option value="Payer Special Request">Payer Special Request</option><option value="Physician license update">Physician license update</option><option value="Privacy – Other General inquiry">Privacy – Other General inquiry</option><option value="Provider Tariff Related Issues">Provider Tariff Related Issues</option><option value="Pulse Related Concerns">Pulse Related Concerns</option><option value="Re-Approval">Re-Approval</option><option value="Revision of Request">Revision of Request</option><option value="Same Day Approval Follow Up">Same Day Approval Follow Up</option><option value="Website Related Issues">Website Related Issues</option><option value="Company Information">Company Information</option><option value="Health Care Provider Audit Request">Health Care Provider Audit Request</option><option value="Member Discharge">Member Discharge</option><option value="Approvals - Pending Requirements">Approvals - Pending Requirements</option>';

        contactType.addEventListener('change', () => {

            if (contactType.value == "Complaint") {                 // if Contact Type changes to Complaint
                // Insert the complaint tpye Reason Of Contact
                reasonOfContact.innerHTML = complaintHTMLString;
                // make Validitiy required
                validitySelection.setAttribute("required", "");
                validitySelection.required = true;
                // Enable validity selection
                validitySelection.disabled = false;
            } else if (contactType.value == "Inquiry") {            // if Contact Type changes to Inquiry
                // Insert the inquiry tpye Reason Of Contact
                reasonOfContact.innerHTML = inquiryHTMLString;
                // make Validitiy not required
                validitySelection.removeAttribute("required");
                validitySelection.required = false;
                // Disable validity selection
                validitySelection.disabled = true;
                // Hide the ITS number Txt Box
                validOnlySelection.style.display = 'none';
                itsNumberInput.required = false;
                // clear dropdown
                validitySelection.value = "";
            }

        });

        // If Type Complaint & Valid show txt box for ITS number
        let validitySelection = document.getElementById('validitySelection');
        let validOnlySelection = document.getElementById('validOnlySelection');
        let itsNumberInput = document.getElementById('itsNumberInput');

        validitySelection.addEventListener('change', function () {

            if (validitySelection.value == "Valid") {           // If Valid
                // Show the ITS number Txt Box
                validOnlySelection.style.display = 'block';
                itsNumberInput.setAttribute("required", "");
                itsNumberInput.required = true;
            } else {
                // Hide the ITS number Txt Box
                validOnlySelection.style.display = 'none';
                itsNumberInput.required = false;
            }

        });

        // set GOP row hidden
        let gopRow = document.getElementById('gop-row');
        gopRow.style.display = "none";

        // If GOP
        let sourceOfContactInput = document.getElementById('sourceOfContactInput');
        let contactTypeDiv = document.getElementById('contactTypeDiv');
        let reasonOfContactDiv = document.getElementById('reasonOfContactDiv');
        let row4 = document.getElementById('row-4');
        let row5 = document.getElementById('row-5');
        let currentStatusSection = document.getElementById('currentStatusSection');
        let currentStatusInput = document.getElementById('currentStatusInput');

        sourceOfContactInput.addEventListener('change', () => {
            // if Soruce is GOP
            if (sourceOfContactInput.value == "GOPs") {
                contactTypeDiv.style.display = "none";
                reasonOfContactDiv.style.display = "none";
                row4.style.display = "none";
                row5.style.display = "none";
                gopRow.style.display = "flex"

                currentStatusSection.style.display = 'block';
                currentStatusInput.setAttribute("required", "");
                currentStatusInput.required = true;

                electiveInput.setAttribute("required", "");
                electiveInput.required = true;
            } else {
                contactTypeDiv.style.display = "block";
                reasonOfContactDiv.style.display = "block";
                row4.style.display = "flex";
                row5.style.display = "flex";
                gopRow.style.display = "none";

                currentStatusSection.style.display = 'none';
                // make it not required
                currentStatusInput.removeAttribute("required");
                // clear the value
                currentStatusInput.value = "";

                // make it not required
                electiveInput.removeAttribute("required");
                electiveInput.required = false;
                // clear the value
                electiveInput.value = "";
            }
        });

        let typeOfGOPInput = document.getElementById('typeOfGOPInput');
        let payerNotifiedSection = document.getElementById('payerNotifiedSection');
        let payerNotifiedInput = document.getElementById('payerNotifiedInput');

        typeOfGOPInput.addEventListener('change', () => {
            // if OP less than 20K
            if (typeOfGOPInput.value == "OP less than 20K") {
                // show field
                payerNotifiedSection.style.display = 'block';
                // make it required
                payerNotifiedInput.setAttribute("required", "");
                payerNotifiedInput.required = true;
                // clear the value
                payerNotifiedInput.value = "";
            } else {
                // hide field
                payerNotifiedSection.style.display = 'none';
                // make it not required
                payerNotifiedInput.removeAttribute("required");
                payerNotifiedInput.required = false;
                // clear the value
                payerNotifiedInput.value = "";
            }

            // if OP more than 20K
            if (typeOfGOPInput.value == "OP more than 20K") {
                row4.style.display = "flex";
                endorsedToInput.setAttribute("required", "");
                endorsedToInput.required = true;
            } else {
                row4.style.display = "none";
                endorsedToInput.removeAttribute("required");
                endorsedToInput.required = false;
            }


        });

        // init date time picker for all date fields
        function initDates() {
            // Received Date
            $('#receivedDateInput').daterangepicker({
                singleDatePicker: true,
                showDropdowns: true,
                minYear: 2000,
                maxYear: parseInt(moment().format('YYYY'), 10),
                timePicker: true,
                startDate: moment().startOf('hour'),
                endDate: moment().startOf('hour').add(32, 'hour'),
                locale: {
                    format: 'DD/MM/YY hh:mm A'
                }
            });

            // Endorsed Date
            $('#endorsedDateInput').daterangepicker({
                singleDatePicker: true,
                showDropdowns: true,
                minYear: 2000,
                maxYear: parseInt(moment().format('YYYY'), 10),
                timePicker: true,
                startDate: moment().startOf('hour'),
                endDate: moment().startOf('hour').add(32, 'hour'),
                locale: {
                    format: 'DD/MM/YY hh:mm A',
                }
            });

            // Received From Other Dept Date
            $('#receivedOtherDeptdDateInput').daterangepicker({
                singleDatePicker: true,
                showDropdowns: true,
                minYear: 2000,
                maxYear: parseInt(moment().format('YYYY'), 10),
                timePicker: false,
                startDate: moment().startOf('hour'),
                endDate: moment().startOf('hour').add(32, 'hour')
            });

            // Closed On Date
            $('#closedDateInput').daterangepicker({
                singleDatePicker: true,
                showDropdowns: true,
                minYear: 2000,
                maxYear: parseInt(moment().format('YYYY'), 10),
                timePicker: true,
                startDate: moment().startOf('hour'),
                endDate: moment().startOf('hour').add(32, 'hour'),
                locale: {
                    format: 'DD/MM/YY hh:mm A'
                }
            });
        }

        function lockAgentToggle() {
            // Saving agent name 
            let lockAgentToggle = document.getElementById('lockAgentToggle');
            let agentDropDown = document.getElementById('agentDropDown');

            // on document load, get the agent name from local storage
            if (localStorage.getItem("agentName")) {
                agentDropDown.value = localStorage.getItem("agentName");
                // change the color of the text
                lockAgentToggle.style.color = '#28bd35';
            }

            // save or delete agent name from local storage
            lockAgentToggle.addEventListener('click', function () {

                if (localStorage.getItem("agentName") == null) {
                    localStorage.setItem("agentName", agentDropDown.value);
                    // change the color of the text
                    lockAgentToggle.style.color = '#28bd35'
                } else {
                    localStorage.removeItem("agentName");
                    // revert back the text color to black
                    lockAgentToggle.style.color = ''
                }

            });
        }

        function setDefaults() {
            // set all endrosed to fields disabled by default
            endorsedDateInput.removeAttribute("required");
            endorsedDateInput.required = false;
            endorsedDateInput.value = "";
            endorsedDateInput.disabled = true;
            followUpDatesInput.removeAttribute("required");
            followUpDatesInput.required = false;
            followUpDatesInput.disabled = true;
            receivedOtherDeptdDateInput.removeAttribute("required");
            receivedOtherDeptdDateInput.required = false;
            receivedOtherDeptdDateInput.disabled = true;
            receivedOtherDeptdDateInput.value = "";

            // clear autopopulated dates
            receivedDateInput.value = "";
            closedDateInput.value = ""
        }

    </script>

    <!-- Validation for required fields -->
    <script>
        (function () {
            'use strict';
            window.addEventListener('load', function () {
                // Fetch all the forms we want to apply custom Bootstrap validation styles to
                var forms = document.getElementsByClassName('needs-validation');
                var receivedDateInput = document.getElementById('receivedDateInput');
                // Loop over them and prevent submission
                var validation = Array.prototype.filter.call(forms, function (form) {
                    form.addEventListener('submit', function (event) {
                        if (form.checkValidity() === false) {
                            event.preventDefault();
                            event.stopPropagation();
                        } else if (receivedDateInput.value == "") {
                            // date validation
                            event.preventDefault();
                            event.stopPropagation();
                            alert("Received Time is empty");
                        }
                    }, false);
                });
            }, false);

        })();
    </script>

    <!-- reloads the logger after submission instead of going to Google Forms -->
    <script type="text/javascript">var submitted = false;</script>
    <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"
        onload="if(submitted)  {window.location='index.html';}"></iframe>

</body>

</html>